<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>国标论文引用格式转换器</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif; 
            margin: 20px;
            background: linear-gradient(to bottom, #ede3ec, #f5f5f5); 
            color: #333; 
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            background-color: #f9f9f9; 
            border-radius: 10px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: black; 
            text-align: center; 
            margin: 0 0 20px 0; /* 重置h1的外边距 */
        }
        h3 {
            color: black; 
            text-align: center; 
            margin: 0 0 10px 0; /* 重置h3的外边距 */
        }
        button {
            background-color: #701e5e; 
            color: white;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s ease;
            width: 100%;
            margin-bottom: 10px;
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            box-sizing: border-box; 
        }
        button:hover {
            background-color: #45a049; 
        }
        textarea, select, output {
            width: calc(100% - 20px);
            margin-bottom: 10px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box; 
        }
        textarea#output-text {
            height: 200px;
            overflow-y: auto;
        }
        .help-content {
            display: none;
            background-color: #f5f5f5;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>国标论文引用格式转换器</h1>
        <h3><font size="3">（南京大学法学院论文引用格式转换器逆向版）</h3>
        <button id="help-button">帮助</button>
        <div id="help-content" class="help-content">
            <p>小红书号：3895712578 中单兔法师</p>
            <p>建议先点击页尾“输入文本规范化工具”按钮将输入文本规范化</p>
            <p>注意输入引注格式的标点符号，尤其是最后的句号不要遗忘！！！</p>
            <p>目前支持多种文献转化格式（需要在下拉菜单中选择对应的文献类型）：</p>
            <ol>
                <li>带页码的期刊类文献[J]，如：孙清白：《论大型平台企业数据交易强制缔约义务》，载《中外法学》2024年第36卷第1期，第241-260页。</li>
                <li>不带页码的期刊类文献[J]，如：孔经纬、王建文：《论我国司法营商环境评价指标体系的建构——以B-READY范式为参照》，载《北方法学》2024年第18卷第1期，第107-124页。</li>
                <li>带页码的专著类文献[M]，如：范建、王建文：《商法学》（第五版），法律出版社2021年版，第99-100页。</li>
                <li>不带页码的专著类文献[M]，如：罗智敏：《意大利行政诉讼制度研究》，中国政法大学出版社2018年版。</li>
                <li>带页码的中文硕博论文[D]，如：丁麟茜：《对宗教的社会历史批判——马克思宗教批判思想研究》，吉林大学2023年博士论文，第17-19页。</li>
                <li>不带页码的中文硕博论文[D]，如：马欢：《人类活动影响下海河流域典型区水循环变化分析》，北京大学2011年博士论文。</li>
                <li>网络文献[EB/OL]，如：汪波：《哈尔滨市政法机关正对“宝马案”认真调查复查》，载人民网2004年1月10日，http://www.people.com.cn/GB/shehui/1062/2289764.html。</li>
                <li>报纸文献[N]，如：何海波：《判决书上网》，载《法制日报》2000年5月21日，第2版。</li>
                <li>目前期刊类、专著类均不支持带译者。</li>
            </ol>
        </div>

    <label for="input-text">将法学引注手册格式的参考文献转换为国标GB／T7714 2015格式</label>
    <label for="input-text">请输入法学引注手册格式的参考文献（用回车分隔多个文献）：</label>
    <textarea id="input-text" rows="10"></textarea>
    
    <label for="reference-type">选择文献类型：</label>
    <select id="reference-type">
        <option value="journal">期刊 [J]</option>
        <option value="book">专著 [M]</option>
        <option value="thesis">硕博论文 [D]</option>
        <option value="newspaper">报纸 [N]</option>
        <option value="online">网络文献 [EB/OL]</option> 
    </select>
    
    <button onclick="convertReference()">转换格式</button>
    
    <h2>转换结果：</h2>
    <textarea id="output-text" readonly></textarea>
    
    <button onclick="copyToClipboard()">一键复制</button>
    <button onclick="location.href='https://pegaseius.github.io/quxuhao/'">输入文本规范化工具</button>
    <script>
    
     document.getElementById('help-button').addEventListener('click', function() {
            var helpContent = document.getElementById('help-content');
            if (helpContent.style.display === 'none') {
                helpContent.style.display = 'block';
            } else {
                helpContent.style.display = 'none';
            }
        });
    
     function copyToClipboard() {
        const outputText = document.getElementById("output-text");
        outputText.select(); // 选择文本
        document.execCommand("copy"); // 执行浏览器复制命令
        alert("复制成功"); // 
    }
    
function convertReference() {
    const inputText = document.getElementById("input-text").value;
    const referenceType = document.getElementById("reference-type").value;
    const inputLines = inputText.split('\n').map(line => line.trim()).filter(line => line);
    let outputText = "";

    if (referenceType === "journal") {
        outputText = convertJournalReferences(inputLines);
    } else if (referenceType === "book") {
        outputText = convertBookReferences(inputLines);
    } else if (referenceType === "thesis") {
        outputText = convertThesisReferences(inputLines);
    } else if (referenceType === "online") {
        outputText = convertOnlineReferences(inputLines);
    } else if (referenceType === 'newspaper') {
        outputText = inputLines.map(line => convertNewspaper(line)).join('\n');
    } else {
        outputText = "请选择正确的文献类型。";
    }

            document.getElementById("output-text").value = outputText;
        }
        
        function getCurrentDate() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            return `${year}.${month}.${day}`;
        }
        
        function convertJournalReferences(lines) {
            const journalNoPageRegex = /(.+?)：《(.+?)》，载《(.+?)》(\d{4})年第(\d+)期。/;
            const journalSinglePageRegex = /(.+?)：《(.+?)》，载《(.+?)》(\d{4})年第(\d+)期，第(\d+)页。/;
            const journalPageRangeRegex = /(.+?)：《(.+?)》，载《(.+?)》(\d{4})年第(\d+)期，第(\d+)-(\d+)页。/;
            const journalNoPageRegexv = /(.+?)：《(.+?)》，载《(.+?)》(\d{4})年第(\d+)卷第(\d+)期。/;
    		const journalSinglePageRegexv = /(.+?)：《(.+?)》，载《(.+?)》(\d{4})年第(\d+)卷第(\d+)期，第(\d+)页。/;
    		const journalPageRangeRegexv = /(.+?)：《(.+?)》，载《(.+?)》(\d{4})年第(\d+)卷第(\d+)期，第(\d+)-(\d+)页。/;

            return lines.map(line => {
                let match;

                if ((match = line.match(journalNoPageRegex))) {
                    const [_, authors, title, journal, year, issue] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[J].${journal},${year}(${issue.padStart(2, '0')}).`;
                } else if ((match = line.match(journalSinglePageRegex))) {
                    const [_, authors, title, journal, year, issue, page] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[J].${journal},${year}(${issue.padStart(2, '0')}):${page}.`;
                } else if ((match = line.match(journalPageRangeRegex))) {
                    const [_, authors, title, journal, year, issue, startPage, endPage] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[J].${journal},${year}(${issue.padStart(2, '0')}):${startPage}-${endPage}.`;
                } else if ((match = line.match(journalNoPageRegexv))) {
            		const [_, authors, title, journal, year, volume, issue] = match;
            		return `${authors.replace(/、/g, ',')}.${title}[J].${journal},${year},${volume}(${issue.padStart(2, '0')}).`;
       			 } else if ((match = line.match(journalSinglePageRegexv))) {
           		 	const [_, authors, title, journal, year, volume, issue, page] = match;
            		return `${authors.replace(/、/g, ',')}.${title}[J].${journal},${year},${volume}(${issue.padStart(2, '0')}):${page}.`;
        		} else if ((match = line.match(journalPageRangeRegexv))) {
           			 const [_, authors, title, journal, year, volume, issue, startPage, endPage] = match;
           			 return `${authors.replace(/、/g, ',')}.${title}[J].${journal},${year},${volume}(${issue.padStart(2, '0')}):${startPage}-${endPage}.`;
                } else {
                    return `输入的期刊格式不正确：${line}`;
                }
            }).join('\n');
        }

        function convertBookReferences(lines) {
            const publisherAddresses = {
                        "安徽文艺出版社":"合肥:安徽文艺出版社",
            "安徽美术出版社": "合肥:安徽美术出版社",
            "安徽少年儿童出版社":"合肥:安徽少年儿童出版社",
            "安徽人民出版社":"合肥:安徽人民出版社",
            "中国科学技术大学出版社":"合肥:中国科学技术大学出版社",
            "黄山书社":"合肥:黄山书社",
            "安徽出版集团":"合肥:安徽出版集团",
            "安徽大学出版社":"合肥:安徽大学出版社",
            "北京大学出版社":"北京:北京大学出版社",
            "北京航空航天大学出版社":"北京:北京航空航天大学出版社",
            "北京理工大学出版社":"北京:北京理工大学出版社",
"北京体育大学出版社":"北京:北京体育大学出版社",
  			"北京大学医学出版社":"北京:北京大学医学出版社",
  			"北京邮电大学出版社":"北京:北京邮电大学出版社",
  "北京语言大学出版社":"北京:北京语言大学出版社",
  "兵器工业出版社":"北京:兵器工业出版社",
  "党建读物出版社":"北京:党建读物出版社",
  "地震出版社":"北京:地震出版社",
  "地质出版社":"北京:地质出版社",
  "国防大学出版社":"北京:国防大学出版社",
  "解放军文艺出版社":"北京:解放军文艺出版社",
  "国防工业出版社":"北京:国防工业出版社",
  "海洋出版社":"北京:海洋出版社",
  "华乐出版社":"北京:华乐出版社",
  "军事科学出版社":"北京:军事科学出版社",
  "军事医学科学出版社":"北京:军事医学科学出版社",
  "昆仑出版社":"北京:昆仑出版社",
  "开明出版社":"北京:开明出版社",
  "企业管理出版社":"北京:企业管理出版社",
  "气象出版社":"北京:气象出版社",
  "人民音乐出版社":"北京:人民音乐出版社",
  "清华大学出版社":"北京:清华大学出版社",
  "经济科学出版社":"北京:经济科学出版社",
  "西苑出版社":"北京:西苑出版社",
  "学苑出版社":"北京:学苑出版社",
  "新时代出版社":"北京:新时代出版社",
  "印刷工业出版社":"北京:印刷工业出版社",
  "原子能出版社":"北京:原子能出版社",
  "时事出版社":"北京:时事出版社",
  "知识产权出版社":"北京:知识产权出版社",
  "国家行政学院出版社":"北京:国家行政学院出版社",
  "国家行政学院音像出版社":"北京:国家行政学院音像出版社",
  "中国大地出版社":"北京:中国大地出版社",
  "中共中央党校出版社":"北京:中共中央党校出版社",
  "中国环境科学出版社":"北京:中国环境科学出版社",
  "中国科学技术出版社":"北京:中国科学技术出版社",
  "中国农业大学出版社":"北京:中国农业大学出版社",
  "中国农业科技出版社":"北京:中国农业科技出版社",
  "中国人民大学出版社":"北京:中国人民大学出版社",
  "中国医药科技出版社":"北京:中国医药科技出版社",
  "中央民族大学出版社":"北京:中央民族大学出版社",
  "专利文献出版社":"北京:专利文献出版社",
  "经济管理出版社":"北京:经济管理出版社",
  "中国画报出版社":"北京:中国画报出版社",
  "中国政法大学出版社":"北京:中国政法大学出版社",
  "海潮出版社":"北京:海潮出版社",
  "首都师范大学出版社":"北京:首都师范大学出版社",
  "外语教学与研究出版社":"北京:外语教学与研究出版社",
  "五洲传播出版社":"北京:五洲传播出版社",
  "星球地图出版社":"北京:星球地图出版社",
  "中国戏剧出版社":"北京:中国戏剧出版社",
  "北京师范大学出版社":"北京:北京师范大学出版社",
  "当代世界出版社":"北京:当代世界出版社",
  "电子工业出版社":"北京:电子工业出版社",
  "人民军医出版社":"北京:人民军医出版社",
  "科学技术文献出版社":"北京:科学技术文献出版社",
  "科学普及出版社":"北京:科学普及出版社",
  "中国建筑工业出版社":"北京:中国建筑工业出版社",
  "金盾出版社":"北京:金盾出版社",
  "中国宇航出版社":"北京:中国宇航出版社",
  "朝华出版社":"北京:朝华出版社",
  "知识出版社":"北京:知识出版社",
  "蓝天出版社":"北京:蓝天出版社",
  "中国世界语出版社":"北京:中国世界语出版社",
  "中国建材工业出版社":"北京:中国建材工业出版社",
  "中国三峡出版社":"北京:中国三峡出版社",
  "中国大百科全书出版社":"北京:中国大百科全书出版社",
  "北京广播学院出版社":"北京:北京广播学院出版社",
  "中国传媒大学出版社":"北京:中国传媒大学出版社",
  "中信出版社":"北京:中信出版社",
  "对外经济贸易大学出版社":"北京:对外经济贸易大学出版社",
  "化学工业出版社":"北京:化学工业出版社",
"金城出版社":"北京:金城出版社",
  "旅游教育出版社":"北京:旅游教育出版社",
  "煤炭工业出版社":"北京:煤炭工业出版社",
  "农村读物出版社":"北京:农村读物出版社",
  "中国农业出版社":"北京:中国农业出版社",
  "人民日报出版社":"北京:人民日报出版社",
  "线装书局":"北京:线装书局",
  "中共党史出版社":"北京:中共党史出版社",
  "中国城市出版社":"北京:中国城市出版社",
  "中国华侨出版社":"北京:中国华侨出版社",
  "中国劳动社会保障出版社":"北京:中国劳动社会保障出版社",
  "中国民航出版社":"北京:中国民航出版社",
  "石油工业出版社":"北京:石油工业出版社",
  "中国人事出版社":"北京:中国人事出版社",
  "中国友谊出版公司":"北京:中国友谊出版公司",
  "中国中医药出版社":"北京:中国中医药出版社",
  "首都经济贸易大学出版社":"北京:首都经济贸易大学出版社",
  "华夏出版社":"北京:华夏出版社",
  "北京工业大学出版社":"北京:北京工业大学出版社",
  "航空工业出版社":"北京:航空工业出版社",
  "中国电影出版社":"北京:中国电影出版社",
  "京华出版社":"北京:京华出版社",
  "现代出版社":"北京:现代出版社",
  "作家出版社":"北京:作家出版社",
  "中国计量出版社":"北京:中国计量出版社",
  "中国文联出版公司":"北京:中国文联出版公司",
  "中国藏学出版社":"北京:中国藏学出版社",
  "军事谊文出版社":"北京:军事谊文出版社",
  "北京燕山出版社":"北京:北京燕山出版社",
  "方志出版社":"北京:方志出版社",
  "高等教育出版社":"北京:高等教育出版社",
  "民主与建设出版社":"北京:民主与建设出版社",
  "群言出版社":"北京:群言出版社",
  "生活·读书·新知三联书店":"北京:生活·读书·新知三联书店",
  "世界知识出版社":"北京:世界知识出版社",
  "同心出版社":"北京:同心出版社",
  "朝花少年儿童出版社":"北京:朝花少年儿童出版社",
  "中国财政经济出版社":"北京:中国财政经济出版社",
  "中国妇女出版社":"北京:中国妇女出版社",
  "中国工人出版社":"北京:中国工人出版社",
  "中国和平出版社":"北京:中国和平出版社",
  "中国民族摄影艺术出版社":"北京:中国民族摄影艺术出版社",
  "中国青年出版社":"北京:中国青年出版社",
  "中国少年儿童出版社":"北京:中国少年儿童出版社",
  "中国摄影出版社":"北京:中国摄影出版社",
  "中国石化出版社":"北京:中国石化出版社",
  "中医古籍出版社":"北京:中医古籍出版社",
  "宗教文化出版社":"北京:宗教文化出版社",
  "商务印书馆":"北京:商务印书馆",
  "台海出版社":"北京:台海出版社",
  "人民出版社":"北京:人民出版社",
  "万国学术出版社":"北京:万国学术出版社",
  "东方出版社":"北京:东方出版社",
  "人民文学出版社":"北京:人民文学出版社",
  "外国文学出版社":"北京:外国文学出版社",
  "世界图书出版公司":"北京:世界图书出版公司",
  "华艺出版社":"北京:华艺出版社",
  "民族出版社":"北京:民族出版社",
  "语文出版社":"北京:语文出版社",
  "北京古籍出版社":"北京:北京古籍出版社",
  "中华工商联合出版社":"北京:中华工商联合出版社",
  "北京教育出版社":"北京:北京教育出版社",
  "北京美术摄影出版社":"北京:北京美术摄影出版社",
  "北京少年儿童出版社":"北京:北京少年儿童出版社",
  "北京十月文艺出版社":"北京:北京十月文艺出版社",
  "文津出版社":"北京:文津出版社",
  "北京工艺美术出版社":"北京:北京工艺美术出版社",
  "国际文化出版公司":"北京:国际文化出版公司",
  "红旗出版社":"北京:红旗出版社",
  "科学出版社":"北京:科学出版社",
  "连环画出版社":"北京:连环画出版社",
  "人民法院出版社":"北京:人民法院出版社",
  "人民教育出版社":"北京:人民教育出版社",
  "人民交通出版社":"北京:人民交通出版社",
  "人民美术出版社":"北京:人民美术出版社",
  "荣宝斋出版社":"北京:荣宝斋出版社",
  "龙门书局":"北京:龙门书局",
  "社会科学文献出版社":"北京:社会科学文献出版社",
  "团结出版社":"北京:团结出版社",
  "中国轻工业出版社":"北京:中国轻工业出版社",
  "冶金工业出版社":"北京:冶金工业出版社",
  "中国对外经济贸易出版社":"北京:中国对外经济贸易出版社",
  "中国纺织出版社":"北京:中国纺织出版社",
  "中国ISBN中心":"北京:中国ISBN中心",
  "中国旅游出版社":"北京:中国旅游出版社",
  "文物出版社":"北京:文物出版社",
  "中国协和医科大学出版社":"北京:中国协和医科大学出版社",
  "北京出版社":"北京:北京出版社",
  "紫禁城出版社":"北京:紫禁城出版社",
  "北京图书馆出版社":"北京:北京图书馆出版社",
  "九州出版社":"北京:九州出版社",
"测绘出版社":"北京:测绘出版社",
  "长虹出版公司":"北京:长虹出版公司",
  "长征出版社":"北京:长征出版社",
  "海豚出版社":"北京:海豚出版社",
  "华龄出版社":"北京:华龄出版社",
  "华文出版社":"北京:华文出版社",
  "华语教学出版社":"北京:华语教学出版社",
  "解放军出版社":"北京:解放军出版社",
  "今日中国出版社":"北京:今日中国出版社",
  "警官教育出版社":"北京:警官教育出版社",
  "人民中国出版社":"北京:人民中国出版社",
  "新世界出版社":"北京:新世界出版社",
  "新星出版社":"北京:新星出版社",
  "中国标准出版社":"北京:中国标准出版社",
  "中国档案出版社":"北京:中国档案出版社",
  "中国对外翻译出版公司":"北京:中国对外翻译出版公司",
  "中国电力出版社":"北京:中国电力出版社",
  "中国发展出版社":"北京:中国发展出版社",
  "中国法制出版社":"北京:中国法制出版社",
  "中国方正出版社":"北京:中国方正出版社",
  "中国计划出版社":"北京:中国计划出版社",
  "中国经济出版社":"北京:中国经济出版社",
  "中国林业出版社":"北京:中国林业出版社",
  "当代中国出版社":"北京:当代中国出版社",
  "中国社会出版社":"北京:中国社会出版社",
  "中国水利水电出版社":"北京:中国水利水电出版社",
  "中国统计出版社":"北京:中国统计出版社",
  "中国文史出版社":"北京:中国文史出版社",
  "机械工业出版社":"北京:机械工业出版社",
  "中国人民公安大学出版社":"北京:中国人民公安大学出版社",
  "中央文献出版社":"北京:中央文献出版社",
  "新华出版社":"北京:新华出版社",
  "北京科学技术出版社":"北京:北京科学技术出版社",
  "长城出版社":"北京:长城出版社",
  "大众文艺出版社":"北京:大众文艺出版社",
  "中国文学出版社":"北京:中国文学出版社",
  "中国物价出版社":"北京:中国物价出版社",
  "外文出版社":"北京:外文出版社",
  "中国广播电视出版社":"北京:中国广播电视出版社",
  "中国国际广播出版社":"北京:中国国际广播出版社",
  "中国民主法制出版社":"北京:中国民主法制出版社",
  "中国社会科学出版社":"北京:中国社会科学出版社",
  "中国时代经济出版社":"北京:中国时代经济出版社",
  "中国物资出版社":"北京:中国物资出版社",
  "中国言实出版社":"北京:中国言实出版社",
  "中国致公出版社":"北京:中国致公出版社",
  "中央编译出版社":"北京:中央编译出版社",
  "中央广播电视大学出版社":"北京:中央广播电视大学出版社",
  "经济日报出版社":"北京:经济日报出版社",
  "中国铁道出版社":"北京:中国铁道出版社",
  "学习出版社":"北京:学习出版社",
  "中国地图出版社":"北京:中国地图出版社",
  "中国人口出版社":"北京:中国人口出版社",
  "中国商业出版社":"北京:中国商业出版社",
  "中国书店出版社":"北京:中国书店出版社",
  "中国税务出版社":"北京:中国税务出版社",
  "中国金融出版社":"北京:中国金融出版社",
  "中国工商出版社":"北京:中国工商出版社",
  "群众出版社":"北京:群众出版社",
  "文化艺术出版社":"北京:文化艺术出版社",
  "中国盲文出版社":"北京:中国盲文出版社",
  "中国书籍出版社":"北京:中国书籍出版社",
  "中华书局":"北京:中华书局",
  "法律出版社":"北京:法律出版社",
  "人民卫生出版社":"北京:人民卫生出版社",
  "人民体育出版社":"北京:人民体育出版社",
  "光明日报出版社":"北京:光明日报出版社",
  "人民邮电出版社":"北京:人民邮电出版社",
  "中国检察出版社":"北京:中国检察出版社",
  "重庆出版集团":"重庆:重庆出版集团",
  "西南师范大学出版社":"重庆:西南师范大学出版社",
  "重庆大学出版社":"重庆:重庆大学出版社",
  "福建教育出版社":"福州:福建教育出版社",
  "福建科学技术出版社":"福州:福建科学技术出版社",
  "福建美术出版社":"福州:福建美术出版社",
  "福建人民出版社":"福州:福建人民出版社",
  "福建少年儿童出版社":"福州:福建少年儿童出版社",
  "福建省地图出版社":"福州:福建省地图出版社",
  "海潮摄影艺术出版社":"福州:海潮摄影艺术出版社",
  "海风出版社":"福州:海风出版社",
  "海峡文艺出版社":"福州:海峡文艺出版社",
  "鹭江出版社":"厦门:鹭江出版社",
  "厦门大学出版社":"厦门:厦门大学出版社",
  "敦煌文艺出版社":"兰州:敦煌文艺出版社",
  "甘肃教育出版社":"兰州:甘肃教育出版社",
"甘肃科学技术出版社":"兰州:甘肃科学技术出版社",
  "甘肃民族出版社":"兰州:甘肃民族出版社",
  "甘肃人民出版社":"兰州:甘肃人民出版社",
  "甘肃人民美术出版社":"兰州:甘肃人民美术出版社",
  "甘肃少年儿童出版社":"兰州:甘肃少年儿童出版社",
  "甘肃文化出版社":"兰州:甘肃文化出版社",
  "兰州大学出版社":"兰州:兰州大学出版社",
  "广东高等教育出版社":"广州:广东高等教育出版社",
  "广东教育出版社":"广州:广东教育出版社",
  "广东经济出版社":"广州:广东经济出版社",
  "广东科技出版社":"广州:广东科技出版社",
  "广东旅游出版社":"广州:广东旅游出版社",
  "广东人民出版社":"广州:广东人民出版社",
  "广东省地图出版社":"广州:广东省地图出版社",
  "广东世界图书出版有限公司":"广州:广东世界图书出版有限公司",
  "广州出版社":"广州:广州出版社",
  "海天出版社":"深圳:海天出版社",
  "花城出版社":"广州:花城出版社",
  "华南理工大学出版社":"广州:华南理工大学出版社",
  "暨南大学出版社":"广州:暨南大学出版社",
  "岭南美术出版社":"广州:岭南美术出版社",
  "汕头大学出版社":"汕头:汕头大学出版社",
  "南方日报出版社":"广州:南方日报出版社",
  "新世纪出版社":"广州:新世纪出版社",
  "羊城晚报出版社":"广州:羊城晚报出版社",
  "中山大学出版社":"广州:中山大学出版社",
  "珠海出版社":"珠海:珠海出版社",
  "广西教育出版社":"南宁:广西教育出版社",
  "广西科学技术出版社":"南宁:广西科学技术出版社",
  "广西美术出版社":"南宁:广西美术出版社",
  "广西民族出版社":"南宁:广西民族出版社",
  "广西人民出版社":"南宁:广西人民出版社",
  "广西师范大学出版社":"桂林:广西师范大学出版社",
  "接力出版社":"南宁:接力出版社",
  "漓江出版社":"桂林:漓江出版社",
 "贵州教育出版社":"贵阳:贵州教育出版社",
  "贵州科学技术出版社":"贵阳:贵州科学技术出版社",
  "贵州民族出版社":"贵阳:贵州民族出版社",
  "贵州人民出版社":"贵阳:贵州人民出版社",
  "海南出版社":"海口:海南出版社",
  "南方出版社":"海口:南方出版社",
  "南海出版公司":"海口:南海出版公司",
  "三环出版社":"海口:三环出版社",
  "河北大学出版社":"保定:河北大学出版社",
  "河北教育出版社":"石家庄:河北教育出版社",
  "河北科学技术出版社":"石家庄:河北科学技术出版社",
  "河北美术出版社":"石家庄:河北美术出版社",
  "河北人民出版社":"石家庄:河北人民出版社",
  "河北少年儿童出版社":"石家庄:河北少年儿童出版社",
  "花山文艺出版社":"石家庄:花山文艺出版社",
  "东北林业大学出版社":"哈尔滨:东北林业大学出版社",
  "哈尔滨出版社":"哈尔滨:哈尔滨出版社",
  "哈尔滨地图出版社":"哈尔滨:哈尔滨地图出版社",
  "哈尔滨工程大学出版社":"哈尔滨:哈尔滨工程大学出版社",
  "哈尔滨工业大学出版社":"哈尔滨:哈尔滨工业大学出版社",
  "黑龙江朝鲜民族出版社":"牡丹江:黑龙江朝鲜民族出版社",
  "黑龙江教育出版社":"哈尔滨:黑龙江教育出版社",
  "黑龙江科学技术出版社":"哈尔滨:黑龙江科学技术出版社",
  "黑龙江美术出版社":"哈尔滨:黑龙江美术出版社",
  "黑龙江人民出版社":"哈尔滨:黑龙江人民出版社",
  "北方文艺出版社":"哈尔滨:北方文艺出版社",
  "黑龙江少年儿童出版社":"哈尔滨:黑龙江少年儿童出版社",
  "大象出版社":"郑州:大象出版社",
  "海燕出版社":"郑州:海燕出版社",
  "河南大学出版社":"开封:河南大学出版社",
  "河南科学技术出版社":"郑州:河南科学技术出版社",
  "河南美术出版社":"郑州:河南美术出版社",
  "河南人民出版社":"郑州:河南人民出版社",
  "河南文艺出版社":"郑州:河南文艺出版社",
  "郑州大学出版社":"郑州:郑州大学出版社",
  "黄河水利出版社":"郑州:黄河水利出版社",
  "中原农民出版社":"郑州:中原农民出版社",
  "中州古籍出版社":"郑州:中州古籍出版社",
  "湖北少年儿童出版社":"武汉:湖北少年儿童出版社",
  "湖北辞书出版社(崇文书局)":"武汉:湖北辞书出版社(崇文书局)",
  "华中师范大学出版社":"武汉:华中师范大学出版社",
  "湖北美术出版社":"武汉:湖北美术出版社",
  "湖北人民出版社":"武汉:湖北人民出版社",
  "长江文艺出版社":"武汉:长江文艺出版社",
  "中国地质大学出版社":"武汉:中国地质大学出版社",
  "湖北教育出版社":"武汉:湖北教育出版社",
  "武汉大学出版社":"武汉:武汉大学出版社",
  "武汉理工大学出版社":"武汉:武汉理工大学出版社",
  "华中科技大学出版社":"武汉:华中科技大学出版社",
  "湖北科学技术出版社":"武汉:湖北科学技术出版社",
  "国防科技大学出版社":"长沙:国防科技大学出版社",
  "湖南大学出版社":"长沙:湖南大学出版社",
  "湖南地图出版社":"长沙:湖南地图出版社",
  "湖南教育出版社":"长沙:湖南教育出版社",
  "湖南科学技术出版社":"长沙:湖南科学技术出版社",
  "湖南美术出版社":"长沙:湖南美术出版社",
  "湖南人民出版社":"长沙:湖南人民出版社",
  "湖南少年儿童出版社":"长沙:湖南少年儿童出版社",
  "湖南师范大学出版社":"长沙:湖南师范大学出版社",
  "湖南文艺出版社":"长沙:湖南文艺出版社",
  "岳麓书社":"长沙:岳麓书社",
  "中南大学出版社":"长沙:中南大学出版社",
  "古吴轩出版社":"苏州:古吴轩出版社",
  "河海大学出版社":"南京:河海大学出版社",
  "江苏教育出版社":"南京:江苏教育出版社",
  "江苏古籍出版社":"南京:江苏古籍出版社",
  "东南大学出版社":"南京:东南大学出版社",
  "江苏科学技术出版社":"南京:江苏科学技术出版社",
  "江苏美术出版社":"南京:江苏美术出版社",
  "江苏人民出版社":"南京:江苏人民出版社",
  "江苏少年儿童出版社":"南京:江苏少年儿童出版社",
  "江苏文艺出版社":"南京:江苏文艺出版社",
  "南京出版社":"南京:南京出版社",
  "南京大学出版社":"南京:南京大学出版社",
  "苏州大学出版社":"苏州:苏州大学出版社",
  "译林出版社":"南京:译林出版社",
  "中国矿业大学出版社":"徐州:中国矿业大学出版社",
  "南京师范大学出版社":"南京:南京师范大学出版社",
"百花洲文艺出版社":"南昌:百花洲文艺出版社",
  "二十一世纪出版社":"南昌:二十一世纪出版社",
  "江西高校出版社":"南昌:江西高校出版社",
  "江西教育出版社":"南昌:江西教育出版社",
  "江西科学技术出版社":"南昌:江西科学技术出版社",
  "江西美术出版社":"南昌:江西美术出版社",
  "江西人民出版社":"南昌:江西人民出版社",
  "北方妇女儿童出版社":"长春:北方妇女儿童出版社",
  "延边教育出版社":"延吉:延边教育出版社",
  "长春出版社":"长春:长春出版社",
  "东北师范大学出版社":"长春:东北师范大学出版社",
  "吉林大学出版社":"长春:吉林大学出版社",
  "吉林教育出版社":"长春:吉林教育出版社",
  "吉林科学技术出版社":"长春:吉林科学技术出版社",
  "吉林美术出版社":"长春:吉林美术出版社",
  "吉林人民出版社":"长春:吉林人民出版社",
  "吉林摄影出版社":"长春:吉林摄影出版社",
  "吉林文史出版社":"长春:吉林文史出版社",
  "延边大学出版社":"延吉:延边大学出版社",
  "延边人民出版社":"延吉:延边人民出版社",
  "时代文艺出版社":"长春:时代文艺出版社",
  "白山出版社":"沈阳:白山出版社",
  "春风文艺出版社":"沈阳:春风文艺出版社",
  "大连出版社":"大连:大连出版社",
  "大连海事大学出版社":"大连:大连海事大学出版社",
  "大连理工大学出版社":"大连:大连理工大学出版社",
  "东北财经大学出版社":"大连:东北财经大学出版社",
  "东北大学出版社":"沈阳:东北大学出版社",
  "辽海出版社":"沈阳:辽海出版社",
  "辽宁大学出版社":"沈阳:辽宁大学出版社",
  "辽宁画报出版社":"沈阳:辽宁画报出版社",
  "辽宁教育出版社":"沈阳:辽宁教育出版社",
  "辽宁科学技术出版社":"沈阳:辽宁科学技术出版社",
  "辽宁美术出版社":"沈阳:辽宁美术出版社",
  "辽宁民族出版社":"沈阳:辽宁民族出版社",
  "辽宁少年儿童出版社":"沈阳:辽宁少年儿童出版社",
  "辽宁人民出版社":"沈阳:辽宁人民出版社",
  "沈阳出版社":"沈阳:沈阳出版社",
  "辽宁师范大学出版社":"大连:辽宁师范大学出版社",
  "内蒙古大学出版社":"呼和浩特:内蒙古大学出版社",
  "内蒙古教育出版社":"呼和浩特:内蒙古教育出版社",
  "内蒙古科学技术出版社":"赤峰:内蒙古科学技术出版社",
  "内蒙古人民出版社":"呼和浩特:内蒙古人民出版社",
  "内蒙古少年儿童出版社":"通辽:内蒙古少年儿童出版社",
  "内蒙古文化出版社":"海拉尔:内蒙古文化出版社",
  "远方出版社":"呼和浩特:远方出版社",
  "宁夏人民出版社":"银川:宁夏人民出版社",
  "宁夏人民教育出版社":"银川:宁夏人民教育出版社",
  "宁夏少年儿童出版社":"银川:宁夏少年儿童出版社",
  "青海民族出版社":"西宁:青海民族出版社",
  "青海人民出版社":"西宁:青海人民出版社",
  "黄河出版社":"济南:黄河出版社",
  "济南出版社":"济南:济南出版社",
  "明天出版社":"济南:明天出版社",
  "齐鲁书社":"济南:齐鲁书社",
  "青岛出版社":"青岛:青岛出版社",
  "中国海洋大学出版社":"青岛:中国海洋大学出版社",
  "山东大学出版社":"济南:山东大学出版社",
  "山东画报出版社":"济南:山东画报出版社",
  "山东教育出版社":"济南:山东教育出版社",
  "山东科学技术出版社":"济南:山东科学技术出版社",
  "山东美术出版社":"济南:山东美术出版社",
  "山东人民出版社":"济南:山东人民出版社",
  "山东省地图出版社":"济南:山东省地图出版社",
  "山东文艺出版社":"济南:山东文艺出版社",
  "山东友谊出版社":"济南:山东友谊出版社",
  "石油大学出版社":"东营:石油大学出版社",
  "泰山出版社":"济南:泰山出版社",
  "百家出版社":"上海:百家出版社",
  "第二军医大学出版社":"上海:第二军医大学出版社",
  "东方出版中心":"上海:东方出版中心",
  "华东理工大学出版社":"上海:华东理工大学出版社",
  "汉语大词典出版社":"上海:汉语大词典出版社",
  "复旦大学出版社":"上海:复旦大学出版社",
  "华东师范大学出版社":"上海:华东师范大学出版社",
  "立信会计出版社":"上海:立信会计出版社",
  "上海财经大学出版社":"上海:上海财经大学出版社",
  "上海辞书出版社":"上海:上海辞书出版社",
  "上海大学出版社":"上海:上海大学出版社",
  "上海古籍出版社":"上海:上海古籍出版社",
  "上海画报出版社":"上海:上海画报出版社",
  "上海人民美术出版社":"上海:上海人民美术出版社",
  "上海文艺出版社":"上海:上海文艺出版社",
  "东华大学出版社":"上海:东华大学出版社",
  "中华地图学社":"上海:中华地图学社",
  "学林出版社":"上海:学林出版社",
  "上海音乐出版社":"上海:上海音乐出版社",
  "上海远东出版社":"上海:上海远东出版社",
  "上海中医药大学出版社":"上海:上海中医药大学出版社",
  "少年儿童出版社":"上海:少年儿童出版社",
  "同济大学出版社":"上海:同济大学出版社",
  "文汇出版社":"上海:文汇出版社",
  "上海译文出版社":"上海:上海译文出版社",
  "上海文化出版社":"上海:上海文化出版社",
  "上海外语教育出版社":"上海:上海外语教育出版社",
  "上海书画出版社":"上海:上海书画出版社",
  "上海科学技术出版社":"上海:上海科学技术出版社",
  "上海科学技术文献出版社":"上海:上海科学技术文献出版社",
  "上海科学普及出版社":"上海:上海科学普及出版社",
  "上海人民出版社":"上海:上海人民出版社",
  "上海三联书店":"上海:上海三联书店",
  "上海社会科学院出版社":"上海:上海社会科学院出版社",
  "上海世界图书出版公司":"上海:上海世界图书出版公司",
  "上海书店出版社":"上海:上海书店出版社",
  "上海科技教育出版社":"上海:上海科技教育出版社",
  "上海教育出版社":"上海:上海教育出版社",
  "上海交通大学出版社":"上海:上海交通大学出版社",
  "陕西人民出版社":"西安:陕西人民出版社",
  "陕西科学技术出版社":"西安:陕西科学技术出版社",
  "陕西旅游出版社":"西安:陕西旅游出版社",
  "陕西人民教育出版社":"西安:陕西人民教育出版社",
  "陕西人民美术出版社":"西安:陕西人民美术出版社",
  "陕西师范大学出版社":"西安:陕西师范大学出版社",
  "世界图书出版西安公司":"西安:世界图书出版西安公司",
  "太白文艺出版社":"西安:太白文艺出版社",
  "未来出版社":"西安:未来出版社",
  "西安出版社":"西安:西安出版社",
  "西安电子科技大学出版社":"西安:西安电子科技大学出版社",
  "西安交通大学出版社":"西安:西安交通大学出版社",
  "西北工业大学出版社":"西安:西北工业大学出版社",
  "三秦出版社":"西安:三秦出版社",
  "西北大学出版社":"西安:西北大学出版社",
  "北岳文艺出版社":"太原:北岳文艺出版社",
  "山西古籍出版社":"太原:山西古籍出版社",
  "山西教育出版社":"太原:山西教育出版社",
  "山西经济出版社":"太原:山西经济出版社",
  "山西科学技术出版社":"太原:山西科学技术出版社",
  "山西人民出版社":"太原:山西人民出版社",
  "书海出版社":"太原:书海出版社",
  "希望出版社":"太原:希望出版社",
  "巴蜀书社":"成都:巴蜀书社",
  "成都地图出版社":"成都:成都地图出版社",
  "电子科技大学出版社":"成都:电子科技大学出版社",
  "成都时代出版社":"成都:成都时代出版社",
  "蜀蓉棋艺出版社":"成都:蜀蓉棋艺出版社",
  "四川辞书出版社":"成都:四川辞书出版社",
  "四川大学出版社":"成都:四川大学出版社",
  "四川教育出版社":"成都:四川教育出版社",
  "四川科学技术出版社":"成都:四川科学技术出版社",
  "四川美术出版社":"成都:四川美术出版社",
"四川民族出版社":"成都:四川民族出版社",
  "四川人民出版社":"成都:四川人民出版社",
  "四川少年儿童出版社":"成都:四川少年儿童出版社",
  "四川文艺出版社":"成都:四川文艺出版社",
  "四川出版集团":"成都:四川出版集团",
  "天地出版社":"成都:天地出版社",
  "西南财经大学出版社":"成都:西南财经大学出版社",
  "西南交通大学出版社":"成都:西南交通大学出版社",
  "百花文艺出版社":"天津:百花文艺出版社",
  "南开大学出版社":"天津:南开大学出版社",
  "天津大学出版社":"天津:天津大学出版社",
  "天津古籍出版社":"天津:天津古籍出版社",
  "天津教育出版社":"天津:天津教育出版社",
  "天津科技翻译出版公司":"天津:天津科技翻译出版公司",
  "天津科学技术出版社":"天津:天津科学技术出版社",
  "天津人民出版社":"天津:天津人民出版社",
  "天津人民美术出版社":"天津:天津人民美术出版社",
  "天津杨柳青画社":"天津:天津杨柳青画社",
  "天津社会科学院出版社":"天津:天津社会科学院出版社",
  "新蕾出版社":"天津:新蕾出版社",
  "伊犁人民出版社":"奎屯:伊犁人民出版社",
  "喀什维吾尔文出版社":"喀什:喀什维吾尔文出版社",
  "克孜勒苏柯尔克孜文出版社":"阿图什:克孜勒苏柯尔克孜文出版社",
  "新疆教育出版社":"乌鲁木齐:新疆教育出版社",
  "新疆大学出版社":"乌鲁木齐:新疆大学出版社",
  "新疆科技卫生出版社":"乌鲁木齐:新疆科技卫生出版社",
  "新疆美术摄影出版社":"乌鲁木齐:新疆美术摄影出版社",
  "新疆青少年出版社":"乌鲁木齐:新疆青少年出版社",
  "新疆人民出版社":"乌鲁木齐:新疆人民出版社",
  "西藏人民出版社":"拉萨:西藏人民出版社",
  "西藏藏文古籍出版社":"拉萨:西藏藏文古籍出版社",
  "晨光出版社":"昆明:晨光出版社",
  "德宏民族出版社":"潞西:德宏民族出版社",
  "云南人民出版社":"昆明:云南人民出版社",
  "云南大学出版社":"昆明:云南大学出版社",
  "云南教育出版社":"昆明:云南教育出版社",
  "云南科学技术出版社":"昆明:云南科学技术出版社",
  "云南美术出版社":"昆明:云南美术出版社",
  "云南民族出版社":"昆明:云南民族出版社",
  "宁波出版社":"宁波:宁波出版社",
  "杭州出版社":"杭州:杭州出版社",
  "西泠印社":"杭州:西泠印社",
  "浙江科学技术出版社":"杭州:浙江科学技术出版社",
  "浙江人民出版社":"杭州:浙江人民出版社",
  "浙江大学出版社":"杭州:浙江大学出版社",
  "浙江古籍出版社":"杭州:浙江古籍出版社",
  "浙江教育出版社":"杭州:浙江教育出版社",
  "浙江人民美术出版社":"杭州:浙江人民美术出版社",
  "浙江少年儿童出版社":"杭州:浙江少年儿童出版社",
  "浙江摄影出版社":"杭州:浙江摄影出版社",
  "浙江文艺出版社":"杭州:浙江文艺出版社",
  "中国美术学院出版社":"杭州:中国美术学院出版社",
            //出版社bank
        };
            const chineseToArabic = {
                "一": "1", "二": "2", "三": "3", "四": "4", "五": "5", "六": "6", "七": "7", "八": "8", "九": "9", "十": "10",
                    "十一": "11", "十二": "12", "十三": "13", "十四": "14", "十五": "15", "十六": "16", "十七": "17", "十八": "18", "十九": "19", "二十": "20",
                    "二十一": "21", "二十二": "22", "二十三": "23", "二十四": "24", "二十五": "25", "二十六": "26", "二十七": "27", "二十八": "28", "二十九": "29", "三十": "30",
                    "三十一": "31", "三十二": "32", "三十三": "33", "三十四": "34", "三十五": "35", "三十六": "36", "三十七": "37", "三十八": "38", "三十九": "39", "四十": "40",
                    "四十一": "41", "四十二": "42", "四十三": "43", "四十四": "44", "四十五": "45", "四十六": "46", "四十七": "47", "四十八": "48", "四十九": "49", "五十": "50"

            };

            const bookWithEditionAndPagesRegex = /(.+?)：《(.+?)》（第(.+?)版），(.+?)(\d{4})年版，第(\d+(?:-\d+)?)页。/;
            const bookWithEditionRegex = /(.+?)：《(.+?)》（第(.+?)版），(.+?)(\d{4})年版。/;
            const bookWithoutEditionAndPagesRegex = /(.+?)：《(.+?)》，(.+?)(\d{4})年版，第(\d+(?:-\d+)?)页。/;
            const bookWithoutEditionRegex = /(.+?)：《(.+?)》，(.+?)(\d{4})年版。/;

            return lines.map(line => {
                let match;

                if ((match = line.match(bookWithEditionAndPagesRegex))) {
                    const [_, authors, title, edition, publisher, year, pages] = match;
                    const numericEdition = chineseToArabic[edition] || edition;
                    const formattedPublisher = publisherAddresses[publisher] || publisher;
                    return `${authors.replace(/、/g, ',')}.${title}[M]. 第${numericEdition}版. ${formattedPublisher},${year}:${pages}.`;
                } else if ((match = line.match(bookWithEditionRegex))) {
                    const [_, authors, title, edition, publisher, year] = match;
                    const numericEdition = chineseToArabic[edition] || edition;
                    const formattedPublisher = publisherAddresses[publisher] || publisher;
                    return `${authors.replace(/、/g, ',')}.${title}[M]. 第${numericEdition}版. ${formattedPublisher},${year}.`;
                } else if ((match = line.match(bookWithoutEditionAndPagesRegex))) {
                    const [_, authors, title, publisher, year, pages] = match;
                    const formattedPublisher = publisherAddresses[publisher] || publisher;
                    return `${authors.replace(/、/g, ',')}.${title}[M]. ${formattedPublisher},${year}:${pages}.`;
                } else if ((match = line.match(bookWithoutEditionRegex))) {
                    const [_, authors, title, publisher, year] = match;
                    const formattedPublisher = publisherAddresses[publisher] || publisher;
                    return `${authors.replace(/、/g, ',')}.${title}[M]. ${formattedPublisher},${year}.`;
                } else {
                    return `输入的专著格式不正确：${line}`;
                }
            }).join('\n');
            }
            
            function convertThesisReferences(lines) {
            const thesisNoPageRegex = /(.+?)：《(.+?)》，(.+?)(\d{4})年博士论文。/;
            const thesisSinglePageRegex = /(.+?)：《(.+?)》，(.+?)(\d{4})年博士论文，第(\d+)页。/;
            const thesisPageRangeRegex = /(.+?)：《(.+?)》，(.+?)(\d{4})年博士论文，第(\d+)-(\d+)页。/;
            const masterNoPageRegex = /(.+?)：《(.+?)》，(.+?)(\d{4})年硕士论文。/;
            const masterSinglePageRegex = /(.+?)：《(.+?)》，(.+?)(\d{4})年硕士论文，第(\d+)页。/;
            const masterPageRangeRegex = /(.+?)：《(.+?)》，(.+?)(\d{4})年硕士论文，第(\d+)-(\d+)页。/;

            return lines.map(line => {
                let match;

                if ((match = line.match(thesisNoPageRegex))) {
                    const [_, authors, title, school, year] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[D].${school},${year}.`;
                } else if ((match = line.match(thesisSinglePageRegex))) {
                    const [_, authors, title, school, year, page] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[D].${school},${year}:${page}.`;
                } else if ((match = line.match(thesisPageRangeRegex))) {
                    const [_, authors, title, school, year, startPage, endPage] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[D].${school},${year}:${startPage}-${endPage}.`;
                } else if ((match = line.match(masterNoPageRegex))) {
                    const [_, authors, title, school, year] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[D].${school},${year}.`;
                } else if ((match = line.match(masterSinglePageRegex))) {
                    const [_, authors, title, school, year, page] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[D].${school},${year}:${page}.`;
                } else if ((match = line.match(masterPageRangeRegex))) {
                    const [_, authors, title, school, year, startPage, endPage] = match;
                    return `${authors.replace(/、/g, ',')}.${title}[D].${school},${year}:${startPage}-${endPage}.`;
                } else {
                    return `输入的硕博论文格式不正确：${line}`;
                }
            }).join('\n');
        }
                function convertOnlineReferences(lines) {
            const currentDate = getCurrentDate();

            const withAuthorAndDateRegex = /(.+?)：《(.+?)》，载(.+?)(\d{4})年(\d{1,2})月(\d{1,2})日，(http.+?)。/;
            const withoutAuthorAndDateRegex = /《(.+?)》，载(.+?)，(http.+?)。/;
            const withAuthorNoDateRegex = /(.+?)：《(.+?)》，载(.+?)，(http.+?)。/;
            const withoutAuthorWithDateRegex = /《(.+?)》，载(.+?)(\d{4})年(\d{1,2})月(\d{1,2})日，(http.+?)。/;

            return lines.map(line => {
                let match;

                if ((match = line.match(withAuthorAndDateRegex))) {
                    const [_, author, title, source, year, month, day, url] = match;
                    return `${author}.${title}[EB/OL].(${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')})[${currentDate}].${url}`;
                } else if ((match = line.match(withoutAuthorAndDateRegex))) {
                    const [_, title, source, url] = match;
                    return `${title}[EB/OL].[${currentDate}].${url}`;
                } else if ((match = line.match(withAuthorNoDateRegex))) {
                    const [_, author, title, source, url] = match;
                    return `${author}.${title}[EB/OL].[${currentDate}].${url}`;
                } else if ((match = line.match(withoutAuthorWithDateRegex))) {
                    const [_, title, source, year, month, day, url] = match;
                    return `${title}[EB/OL].(${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')})[${currentDate}].${url}`;
                } else {
                    return `输入的网络文献格式不正确：${line}`;
                }
            }).join('\n');
            
            }
function convertNewspaper(line) {
    const pattern = /^(.*?)：《(.*?)》，载《(.*?)》(\d{4})年(\d{1,2})月(\d{1,2})日，第(\d+)版。$/;
    const match = line.match(pattern);

    if (match) {
        const author = match[1];
        const title = match[2];
        const newspaper = match[3];
        const year = match[4];
        const month = match[5];
        const day = match[6];
        const page = match[7];
        return `${author}.${title}[N].${newspaper},${year}-${month}-${day}(${page}).`;
    } else {
        return `输入格式不正确，请检查输入内容：${line}`;
    }
}
        
    </script>
       <div style="text-align:center;"><p>南京大学法学院 山东法官培训学院</p></div>
       <div style="text-align:center;"><p>Chollima制作</p></div>
    <div style="text-align:center;"><p>版权所有 禁止用于营利目的 ©2025</p></div>
    <p align="center">访问人数</p>
    <div style="text-align:center;"> <img src="https://count.getloli.com/get/@lawschoolreferencetest" alt="lawschoolreferencetest"/></div>
</body>
</html>
